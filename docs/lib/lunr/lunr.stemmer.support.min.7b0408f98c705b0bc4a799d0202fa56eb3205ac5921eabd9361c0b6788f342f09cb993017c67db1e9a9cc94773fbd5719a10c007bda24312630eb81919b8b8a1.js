/*!
 * Snowball JavaScript Library v0.3
 * http://code.google.com/p/urim/
 * http://snowball.tartarus.org/
 *
 * Copyright 2010, Oleg Mazko
 * http://www.mozilla.org/MPL/
 */(function(e,t){typeof define=="function"&&define.amd?define(t):typeof exports=="object"?module.exports=t():t()(e.lunr)})(this,function(){return function(e){e.stemmerSupport={Among:function(e,t,n,s){if(this.toCharArray=function(e){for(var n=e.length,s=new Array(n),t=0;t<n;t++)s[t]=e.charCodeAt(t);return s},!e&&e!=""||!t&&t!=0||!n)throw"Bad Among initialisation: s:"+e+", substring_i: "+t+", result: "+n;this.s_size=e.length,this.s=this.toCharArray(e),this.substring_i=t,this.result=n,this.method=s},SnowballProgram:function(){var e;return{bra:0,ket:0,limit:0,cursor:0,limit_backward:0,setCurrent:function(t){e=t,this.cursor=0,this.limit=t.length,this.limit_backward=0,this.bra=this.cursor,this.ket=this.limit},getCurrent:function(){var t=e;return e=null,t},in_grouping:function(t,n,s){if(this.cursor<this.limit){var o=e.charCodeAt(this.cursor);if(o<=s&&o>=n&&(o-=n,t[o>>3]&1<<(o&7)))return this.cursor++,!0}return!1},in_grouping_b:function(t,n,s){if(this.cursor>this.limit_backward){var o=e.charCodeAt(this.cursor-1);if(o<=s&&o>=n&&(o-=n,t[o>>3]&1<<(o&7)))return this.cursor--,!0}return!1},out_grouping:function(t,n,s){if(this.cursor<this.limit){var o=e.charCodeAt(this.cursor);if(o>s||o<n)return this.cursor++,!0;if(o-=n,!(t[o>>3]&1<<(o&7)))return this.cursor++,!0}return!1},out_grouping_b:function(t,n,s){if(this.cursor>this.limit_backward){var o=e.charCodeAt(this.cursor-1);if(o>s||o<n)return this.cursor--,!0;if(o-=n,!(t[o>>3]&1<<(o&7)))return this.cursor--,!0}return!1},eq_s:function(t,n){if(this.limit-this.cursor<t)return!1;for(var s=0;s<t;s++)if(e.charCodeAt(this.cursor+s)!=n.charCodeAt(s))return!1;return this.cursor+=t,!0},eq_s_b:function(t,n){if(this.cursor-this.limit_backward<t)return!1;for(var s=0;s<t;s++)if(e.charCodeAt(this.cursor-t+s)!=n.charCodeAt(s))return!1;return this.cursor-=t,!0},find_among:function(t,n){for(var s,f,o=0,a=n,r=this.cursor,p=this.limit,l=0,u=0,m=!1;!0;){for(var h=o+(a-o>>1),d=0,i=l<u?l:u,s=t[h],c=i;c<s.s_size;c++){if(r+i==p){d=-1;break}if(d=e.charCodeAt(r+i)-s.s[c],d)break;i++}if(d<0?(a=h,u=i):(o=h,l=i),a-o<=1){if(o>0||a==o||m)break;m=!0}}for(;!0;){if(s=t[o],l>=s.s_size){if(this.cursor=r+s.s_size,!s.method)return s.result;if(f=s.method(),this.cursor=r+s.s_size,f)return s.result}if(o=s.substring_i,o<0)return 0}},find_among_b:function(t,n){for(var s,f,o=0,a=n,r=this.cursor,p=this.limit_backward,l=0,u=0,m=!1;!0;){for(var h=o+(a-o>>1),d=0,i=l<u?l:u,s=t[h],c=s.s_size-1-i;c>=0;c--){if(r-i==p){d=-1;break}if(d=e.charCodeAt(r-1-i)-s.s[c],d)break;i++}if(d<0?(a=h,u=i):(o=h,l=i),a-o<=1){if(o>0||a==o||m)break;m=!0}}for(;!0;){if(s=t[o],l>=s.s_size){if(this.cursor=r-s.s_size,!s.method)return s.result;if(f=s.method(),this.cursor=r-s.s_size,f)return s.result}if(o=s.substring_i,o<0)return 0}},replace_s:function(t,n,s){var o=s.length-(n-t),i=e.substring(0,t),a=e.substring(n);return e=i+s+a,this.limit+=o,this.cursor>=n?this.cursor+=o:this.cursor>t&&(this.cursor=t),o},slice_check:function(){if(this.bra<0||this.bra>this.ket||this.ket>this.limit||this.limit>e.length)throw"faulty slice operation"},slice_from:function(e){this.slice_check(),this.replace_s(this.bra,this.ket,e)},slice_del:function(){this.slice_from("")},insert:function(e,t,n){var s=this.replace_s(e,t,n);e<=this.bra&&(this.bra+=s),e<=this.ket&&(this.ket+=s)},slice_to:function(){return this.slice_check(),e.substring(this.bra,this.ket)},eq_v_b:function(e){return this.eq_s_b(e.length,e)}}}},e.trimmerSupport={generateTrimmer:function(e){var t=new RegExp("^[^"+e+"]+"),n=new RegExp("[^"+e+"]+$");return function(e){return typeof e.update=="function"?e.update(function(e){return e.replace(t,"").replace(n,"")}):e.replace(t,"").replace(n,"")}}}}})