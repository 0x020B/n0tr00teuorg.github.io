/*!
 * Snowball JavaScript Library v0.3
 * http://code.google.com/p/urim/
 * http://snowball.tartarus.org/
 *
 * Copyright 2010, Oleg Mazko
 * http://www.mozilla.org/MPL/
 */(function(b,a){typeof define=='function'&&define.amd?define(a):typeof exports=='object'?module.exports=a():a()(b.lunr)})(this,function(){return function(a){a.stemmerSupport={Among:function(a,b,c,d){if(this.toCharArray=function(b){for(var c=b.length,d=new Array(c),a=0;a<c;a++)d[a]=b.charCodeAt(a);return d},!a&&a!=""||!b&&b!=0||!c)throw"Bad Among initialisation: s:"+a+", substring_i: "+b+", result: "+c;this.s_size=a.length,this.s=this.toCharArray(a),this.substring_i=b,this.result=c,this.method=d},SnowballProgram:function(){var a;return{bra:0,ket:0,limit:0,cursor:0,limit_backward:0,setCurrent:function(b){a=b,this.cursor=0,this.limit=b.length,this.limit_backward=0,this.bra=this.cursor,this.ket=this.limit},getCurrent:function(){var b=a;return a=null,b},in_grouping:function(d,c,e){if(this.cursor<this.limit){var b=a.charCodeAt(this.cursor);if(b<=e&&b>=c)if(b-=c,d[b>>3]&1<<(b&7))return this.cursor++,!0}return!1},in_grouping_b:function(d,c,e){if(this.cursor>this.limit_backward){var b=a.charCodeAt(this.cursor-1);if(b<=e&&b>=c)if(b-=c,d[b>>3]&1<<(b&7))return this.cursor--,!0}return!1},out_grouping:function(d,c,e){if(this.cursor<this.limit){var b=a.charCodeAt(this.cursor);if(b>e||b<c)return this.cursor++,!0;if(b-=c,!(d[b>>3]&1<<(b&7)))return this.cursor++,!0}return!1},out_grouping_b:function(d,c,e){if(this.cursor>this.limit_backward){var b=a.charCodeAt(this.cursor-1);if(b>e||b<c)return this.cursor--,!0;if(b-=c,!(d[b>>3]&1<<(b&7)))return this.cursor--,!0}return!1},eq_s:function(c,d){if(this.limit-this.cursor<c)return!1;for(var b=0;b<c;b++)if(a.charCodeAt(this.cursor+b)!=d.charCodeAt(b))return!1;return this.cursor+=c,!0},eq_s_b:function(b,d){if(this.cursor-this.limit_backward<b)return!1;for(var c=0;c<b;c++)if(a.charCodeAt(this.cursor-b+c)!=d.charCodeAt(c))return!1;return this.cursor-=b,!0},find_among:function(l,o){for(var c=0,f=o,g=this.cursor,n=this.limit,h=0,j=0,m=!1,k,e,d,b,i,p;!0;){k=c+(f-c>>1),e=0,d=h<j?h:j,b=l[k];for(i=d;i<b.s_size;i++){if(g+d==n){e=-1;break}if(e=a.charCodeAt(g+d)-b.s[i],e)break;d++}if(e<0?(f=k,j=d):(c=k,h=d),f-c<=1){if(c>0||f==c||m)break;m=!0}}while(!0){if(b=l[c],h>=b.s_size){if(this.cursor=g+b.s_size,!b.method)return b.result;if(p=b.method(),this.cursor=g+b.s_size,p)return b.result}if(c=b.substring_i,c<0)return 0}},find_among_b:function(l,o){for(var c=0,f=o,g=this.cursor,n=this.limit_backward,h=0,j=0,m=!1,k,e,d,b,i,p;!0;){k=c+(f-c>>1),e=0,d=h<j?h:j,b=l[k];for(i=b.s_size-1-d;i>=0;i--){if(g-d==n){e=-1;break}if(e=a.charCodeAt(g-1-d)-b.s[i],e)break;d++}if(e<0?(f=k,j=d):(c=k,h=d),f-c<=1){if(c>0||f==c||m)break;m=!0}}while(!0){if(b=l[c],h>=b.s_size){if(this.cursor=g-b.s_size,!b.method)return b.result;if(p=b.method(),this.cursor=g-b.s_size,p)return b.result}if(c=b.substring_i,c<0)return 0}},replace_s:function(b,c,e){var d=e.length-(c-b),f=a.substring(0,b),g=a.substring(c);return a=f+e+g,this.limit+=d,this.cursor>=c?this.cursor+=d:this.cursor>b&&(this.cursor=b),d},slice_check:function(){if(this.bra<0||this.bra>this.ket||this.ket>this.limit||this.limit>a.length)throw"faulty slice operation"},slice_from:function(a){this.slice_check(),this.replace_s(this.bra,this.ket,a)},slice_del:function(){this.slice_from("")},insert:function(a,c,d){var b=this.replace_s(a,c,d);a<=this.bra&&(this.bra+=b),a<=this.ket&&(this.ket+=b)},slice_to:function(){return this.slice_check(),a.substring(this.bra,this.ket)},eq_v_b:function(a){return this.eq_s_b(a.length,a)}}}},a.trimmerSupport={generateTrimmer:function(a){var b=new RegExp("^[^"+a+"]+"),c=new RegExp("[^"+a+"]+$");return function(a){return typeof a.update=="function"?a.update(function(a){return a.replace(b,'').replace(c,'')}):a.replace(b,'').replace(c,'')}}}}})